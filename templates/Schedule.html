{% extends "layout.html" %}

{% block heading %}
Employee Schedule
{% endblock %}

{% block body %}
<script>
    function togglePopup(kitchen_id, kitchen_col){
        document.getElementById("popup-1").classList.toggle("active");
        var form = document.forms[0]
        form.querySelector('input[name="hidden-kitchen-id"]').value = kitchen_id
        form.querySelector('input[name="hidden-kitchen-col"]').value = kitchen_col
    }
</script>
<link rel="stylesheet" href={{ url_for('static', filename='popup.css') }}>
    
<div class="popup" id="popup-1">
    <div class="overlay"></div>
    <div class="content">
      <div class="close-btn" onclick="togglePopup()">&times;</div>
      <br>
      <form action="{{url_for('test')}}" method="POST" id="">
        Employee: 
        <select  name="emp_id">
            {% for e in emp %}
                <option value={{ e.emp_id }}  {% if e.emp_id==emp_id%} selected="selected"{%endif%}>{{ e.first_name+' '+e.last_name }}</option>
            {%endfor%}
        </select>
        <br>
        <input type="text" value=118 name="hidden-kitchen-id" hidden>
        <br>
        <input type="text" value="mon1" name="hidden-kitchen-col" hidden>
        <input type="submit" name="" id="" class="btn btn-primary btn-sm">
        </form>
        
    </div>
  </div>

  <button onclick="togglePopup('105', 'fri1')"  class="btn btn-outline-primary btn-sm kit-table-data" data-kitchen_id="105" data-kitchen_col="fri1">Show This</button>

  
  <div>
    <form action="{{ url_for('schedule') }}" method="post">
        <button id="Submit" class="btn btn-primary">Generate Schedule</button>
    </form>
</div>
<div>
    <ul>
        <li><a href="{{ url_for('emp_table') }}">Click Here</a> to see employee level schedule</li>
    </ul>
    
</div>
<h2>Schedule:</h2>
<div style="overflow-x: auto;">
    <table class="table">
        <thead class="thead-dark">
            <tr>
                <th>Job</th>
                <th>Time</th>
                <th>Sun1</th>
                <th>Mon1</th>
                <th>Tue1</th>
                <th>Wed1</th>
                <th>Thur1</th>
                <th>Fri1</th>
                <th>Sat1</th>
                <th>Sun2</th>
                <th>Mon2</th>
                <th>Tue2</th>
                <th>Wed2</th>
                <th>Thur2</th>
                <th>Fri2</th>
                <th>Sat2</th>
            </tr>
        </thead>

        <tbody>
            {% for item in items %}
            <tr>
                <td>{{item.job}}</td>
                <td>{{item.time}}</td>
                <td>{{item.sun1}}</td>
                <td>{{item.mon1}}</td>
                <td>{{item.tue1}}</td>
                <td>{{item.wed1}}</td>
                <td>{{item.thur1}}</td>
                <td>{{item.fri1}}</td>
                <td>{{item.sat1}}</td>
                <td>{{item.sun2}}</td>
                <td>{{item.mon2}}</td>
                <td>{{item.tue1}}</td>
                <td>{{item.wed2}}</td>
                <td>{{item.thur2}}</td>
                <td>{{item.fri2}}</td>
                <td>{{item.sat2}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}